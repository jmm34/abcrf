{
    "contents" : "regAbcrf.numeric <-\n  function(resp, sumsta, ntree=500, sampsize=min(1e5, length(resp)), paral=FALSE, ... ){\n    if(!is.numeric(resp))\n      stop(\"resp must be a numeric vector\")\n    sumsta <- as.matrix(sumsta)\n    if(length(resp)!=nrow(sumsta))\n      stop(\"length of resp differs from the number of lines in sumsta\")\n    if(length(resp)==0L)\n      stop(\"no simulation in the reference table (resp, sumsta)\")\n    if (is.null(colnames(sumsta))) colnames(sumsta) <- paste(\"V\",1:dim(sumsta)[2],sep=\"\")\n    if(sampsize > length(resp))\n      stop(\"sampsize too large\")\n    \n    # pour indiquer mtry si il n'est pas indiqué dans les ...\n    m <- names(match.call(expand.dots=TRUE))\n    if (!\"mtry\" %in% m) \n      mtry <- max(1, floor(ncol(sumsta)/3) ) # pour éviter de prendre sqrt(p) avec ranger\n    \n    # construction du dataframe pour ranger\n    data.ranger <- data.frame(resp, sumsta)\n    \n    if (paral==TRUE) {\n      ncores <- max(detectCores()-1,1) \n      model.rf <- ranger(resp~., data=data.ranger, num.trees=ntree, sample.fraction=sampsize/length(modindex), \n                        num.threads = ncores, keep.inbag = TRUE, importance = 'impurity', mtry = mtry, ...)\n    } else model.rf <- ranger(resp~., data=data.ranger, num.trees=ntree, sample.fraction=sampsize/length(modindex), \n                              num.threads = 1, keep.inbag = TRUE, importance = 'impurity', mtry = mtry, ...)\n    cl <- match.call()\n    cl[[1]] <- as.name(\"regAbcrf\")\n    x <- list(call=cl, model.rf = model.rf, sumsta=sumsta, y=resp)\n    class(x) <- \"regAbcrf\"\n    x\n  }\n\nregAbcrf <-\nfunction(...) UseMethod(\"regAbcrf\")\n\nprint.regAbcrf <-\nfunction(x, ...){\n\n  cat(\"\\nCall:\\n\", deparse(x$call), \"\\n\")\n  cat(\"Number of simulations: \", length(x$y), \"\\n\", sep=\"\")\n  cat(\"Number of trees: \", x$model.rf$num.trees, \"\\n\", sep=\"\")\n  cat(\"No. of variables tried at each split: \", x$model.rf$mtry, \"\\n\", sep=\"\")\n      \n}",
    "created" : 1479042784576.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "393916061",
    "id" : "5BBDEC31",
    "lastKnownWriteTime" : 1479052754,
    "path" : "F:/These/abcrf_sauvegarde_21_11_2016/R/regAbcrf.R",
    "project_path" : "R/regAbcrf.R",
    "properties" : {
    },
    "relative_order" : 5,
    "source_on_save" : false,
    "type" : "r_source"
}